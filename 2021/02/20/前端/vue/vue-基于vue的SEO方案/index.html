<!DOCTYPE html>

<html lang="zh-CN">

<head>
  
  <meta name="baidu-site-verification" content="code-J1Qg17G6wT" />
  <title>vue-基于vue的SEO方案 - 糖羽仙</title>
  <meta charset="UTF-8">
  <meta name="description" content="这是一个个人小网站">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

    <!-- Site Verification -->
    <meta name="baidu-site-verification" content="code-J1Qg17G6wT" />

  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/head/head.jpg" type="image/png" />
  <meta name="description" content="因vue是spa单页面应用,对seo不友好,所以针对该问题整合了目前网上提到的解决方案以供参考">
<meta property="og:type" content="article">
<meta property="og:title" content="vue-基于vue的SEO方案">
<meta property="og:url" content="https://tangyuxian.com/2021/02/20/%E5%89%8D%E7%AB%AF/vue/vue-%E5%9F%BA%E4%BA%8Evue%E7%9A%84SEO%E6%96%B9%E6%A1%88/index.html">
<meta property="og:site_name" content="糖羽仙">
<meta property="og:description" content="因vue是spa单页面应用,对seo不友好,所以针对该问题整合了目前网上提到的解决方案以供参考">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/post/phantomjs.png">
<meta property="article:published_time" content="2021-02-20T07:00:35.000Z">
<meta property="article:modified_time" content="2021-03-18T13:21:07.410Z">
<meta property="article:author" content="tangyuxian">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/post/phantomjs.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css?v=233" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css">
  
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2421060_07c3w9e00sab.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1616248039168">
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/background/xiaomai.jpg)"></div>
    <div class="nexmoe-small" style="background-image: url(https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/background/lihui.png)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="tangyuxian" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/head/head.jpg" alt="tangyuxian"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="tangyuxian">
            <img src="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/head/head.jpg" alt="tangyuxian" alt="tangyuxian">
        </a>
    </div>
    <div class="nexmoe-count">
        <div class="nexmoe-count-item"><span>文章</span>21 <div class="item-radius"></div><div class="item-radius item-right"></div> </div>
        <div class="nexmoe-count-item"><span>标签</span>8<div class="item-radius"></div><div class="item-radius item-right"></div></div>
        <div class="nexmoe-count-item"><span>分类</span>3<div class="item-radius"></div><div class="item-radius item-right"></div></div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-meishi"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives.html" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-hanbao1"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于糖糖">
            <i class="mdui-list-item-icon nexmoefont icon-jiubei1"></i>
            <div class="mdui-list-item-content">
                关于糖糖
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/friend.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-cola"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <!--<div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="搜索"></label>
        </form>
    </div>
</div>-->
<!-- 站内搜索 -->
<div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search" >
        <form id="search-form">
            <label><input type="text" id="local-search-input" name="q" results="0" placeholder="站内搜索" class="input form-control" autocomplete="off" autocorrect="off"/></label>
            <!-- 清空/重置搜索框 -->
            <i class="fa fa-times" onclick="resetSearch()"></i>
        </form>
    </div>
    <div id="local-search-result"></div> <!-- 搜索结果区 -->
    <!-- <p class='no-result'></p> 无匹配时显示，注意在 CSS 中设置默认隐藏 -->
</div>

  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="http://wpa.qq.com/msgrd?v=3&uin=2120252100&site=qq&menu=yes" target="_blank" mdui-tooltip="{content: 'QQ'}" style="color: rgb(64, 196, 255);background-color: rgba(64, 196, 255, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="mailto:tangyuxian@vip.qq.com" target="_blank" mdui-tooltip="{content: 'main'}" style="color: rgb(249,8,8);background-color: rgba(249,8,8,.1);">
            <i class="nexmoefont icon-mail-fill"></i>
        </a><a class="mdui-ripple" href="https://www.cnblogs.com/lovetangyuxian/" target="_blank" mdui-tooltip="{content: '博客园'}" style="color: rgb(66, 214, 29);background-color: rgba(66, 214, 29, .1);">
            <i class="nexmoefont icon-bokeyuan"></i>
        </a><a class="mdui-ripple" href="https://github.com/tangyuxian/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a><a class="mdui-ripple" href="https://gitee.com/tangyuxian" target="_blank" mdui-tooltip="{content: 'gitee'}" style="color: rgb(255, 255, 255);background-color: rgb(199,29,35);">
            <i class="nexmoefont icon-mayun"></i>
        </a>
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/前端/">前端</a>
          <span class="category-list-count">19</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/开发工具/">开发工具</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/服务器端/">服务器端</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/JavaScript/" style="font-size: 16.67px;">JavaScript</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/es6/" style="font-size: 10px;">es6</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/vue/" style="font-size: 20px;">vue</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 13.33px;">微信小程序</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">21</span></li></ul>
    </div>
  </div>


<style>
.nexmoe-widget .archive-list-count{
	position : absolute;
	right: 15px;
	top:9px;
	color: #DDD;
}
</style>

  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2021 tangyuxian
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/tangyuxian/hexo-theme-nexmoe" target="_blank">Nexmoe</a><br/>
        <a href="http://beian.miit.gov.cn" target="_blank">辽ICP备2021002341号</a><br/>
        <div style="font-size: 12px">
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            本站总访问量  <a id="busuanzi_value_site_pv"></a> 次<br />
            本站访客数<a id="busuanzi_value_site_uv"></a>人次
        </div>
        
    </div>

</div><!-- .nexmoe-drawer -->

  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">
  
      <div class="nexmoe-post-cover" style="padding-bottom: 26.666666666666668%;"> 
          <img data-src="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/post/vue.jpg" data-sizes="auto" alt="vue-基于vue的SEO方案" class="lazyload">
          <h1>vue-基于vue的SEO方案</h1>
      </div>
  
  
  <div class="nexmoe-post-meta nexmoe-rainbow" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2021年02月20日</a>
    <a><i class="nexmoefont icon-areachart"></i>2.3k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 10 分钟</a>
</div>

  <div class="nexmoe-post-right">
    
  </div>

  <article>
    <p>因vue是spa单页面应用,对seo不友好,所以针对该问题整合了目前网上提到的解决方案以供参考</p>
<span id="more"></span>

<h2 id="了解SEO"><a href="#了解SEO" class="headerlink" title="了解SEO"></a>了解SEO</h2><p>搜索引擎优化（Search engine optimization，简称seo），指为了提升网页在搜索引擎自然搜索结果中（非商业性推广结果）的收录数量以及排序位置而做的优化行为，是为了从搜索引擎中获得更多的免费流量，以及更好的展现形象。</p>
<h2 id="seo对vue单页面不友好的原因"><a href="#seo对vue单页面不友好的原因" class="headerlink" title="seo对vue单页面不友好的原因"></a>seo对vue单页面不友好的原因</h2><ul>
<li>爬虫在爬取的过程中，不会去执行js，所以隐藏在js中的跳转也不会获取到</li>
<li>vue通过js控制路由然后渲染出对应的页面，而搜索引擎蜘蛛是不会去执行页面的js的，导致搜索引擎蜘蛛只能收录index.html一个页面，在百度中就搜索不到相关的子页面的内容。</li>
<li>我们加载页面的时候,浏览器的渲染包含:html的解析、dom树的构建、cssom构建、javascript解析、布局、绘制,当解析到javascript的时候才回去触发vue的渲染,然后元素挂载到id为app的div上,这个时候我们才能看到我们页面的内容,所以即使vue渲染机制很快我们仍然能够看到一段时间的白屏情况,用户体验不好</li>
</ul>
<h2 id="常见解决方案"><a href="#常见解决方案" class="headerlink" title="常见解决方案"></a>常见解决方案</h2><ul>
<li>1.SSR服务器渲染；</li>
<li>2.静态化；</li>
<li>3.预渲染prerender-spa-plugin；</li>
<li>4.使用Phantomjs针对爬虫做处理。</li>
</ul>
<h4 id="1-SSR服务器渲染"><a href="#1-SSR服务器渲染" class="headerlink" title="1.SSR服务器渲染"></a>1.SSR服务器渲染</h4><p>关于服务器渲染：Vue官网介绍，对Vue版本有要求，对服务器也有一定要求，需要支持nodejs环境。</p>
<p>使用SSR权衡之处：</p>
<ul>
<li>开发条件所限，浏览器特定的代码，只能在某些生命周期钩子函数 (lifecycle hook) 中使用；一些外部扩展库 (external library) 可能需要特殊处理，才能在服务器渲染应用程序中运行；</li>
<li>环境和部署要求更高，需要Node.js server 运行环境；</li>
<li>高流量的情况下，请准备相应的服务器负载，并明智地采用缓存策略。</li>
</ul>
<h6 id="优势："><a href="#优势：" class="headerlink" title="优势："></a>优势：</h6><ul>
<li>更好的 SEO，由于搜索引擎爬虫抓取工具可以直接查看完全渲染的页面；</li>
<li>更快的内容到达时间 (time-to-content)，特别是对于缓慢的网络情况或运行缓慢的设备。</li>
</ul>
<h6 id="不足：（开发中遇到的坑）"><a href="#不足：（开发中遇到的坑）" class="headerlink" title="不足：（开发中遇到的坑）"></a>不足：（开发中遇到的坑）</h6><p>1.一套代码两套执行环境，会引起各种问题，比如服务端没有window、document对象，处理方式是增加判断，如果是客户端才执行：</p>
<pre><code class="javascript">if(process.browser)&#123;
 console.log(window);
&#125;
</code></pre>
<p>引用npm包，带有dom操作的，例如：<code>wowjs</code>，不能用<code>import</code>的方式，改用：</p>
<pre><code class="javascript">if (process.browser) &#123;
     var &#123; WOW &#125; = require(&#39;wowjs&#39;);
     require(&#39;wowjs/css/libs/animate.css&#39;);
 &#125;
</code></pre>
<p>2.Nuxt asyncData方法，初始化页面前先得到数据，但仅限于页面组件调用：</p>
<pre><code class="javascript">// 并发加载多个接口：
  async asyncData (&#123; app, query &#125;) &#123;
    let [resA, resB, resC] = await Promise.all([
      app.$axios.get(&#39;/api/a&#39;),
      app.$axios.get(&#39;/api/b&#39;),
      app.$axios.get(&#39;/api/c&#39;),
     ])
     
     return &#123;
       dataA: resA.data,
       dataB: resB.data,
       dataC: resC.data,
     &#125;
  &#125;
</code></pre>
<p>在asyncData中获取参数：</p>
<pre><code class="javascript">1.获取动态路由参数，如：

/list/:id&#39; ==&gt;  &#39;/list/123

接收：

async asyncData (&#123; app, query &#125;) &#123;
  console.log(app.context.params.id) //123
&#125;
2.获取url?获取参数，如：

/list?id=123

接收：

async asyncData (&#123; app, query &#125;) &#123;
  console.log(query.id) //123
&#125;
</code></pre>
<p>3.如果你使用<code>v-if</code>语法，部署到线上大概也会遇到这个错误：</p>
<pre><code class="javascript">Error while initializing app DOMException: Failed to execute &#39;appendChild&#39; on &#39;Node&#39;: This node type does not support this method.
    at Object.We [as appendChild]
</code></pre>
<p>根据github nuxt上的issue第1552条提示，要将<code>v-if</code>改为<code>v-show</code>语法。</p>
<h4 id="2-静态化"><a href="#2-静态化" class="headerlink" title="2.静态化"></a>2.静态化</h4><p>静态化是Nuxt.js打包的另一种方式，算是 Nuxt.js 的一个创新点，页面加载速度很快。 在 Nuxt.js 执行 generate 静态化打包时，动态路由会被忽略。</p>
<pre><code class="javascript">-| pages/
---| index.vue
---| users/
-----| _id.vue
</code></pre>
<p>需要动态路由先生成静态页面，你需要指定动态路由参数的值，并配置到 routes 数组中去。</p>
<pre><code class="javascript">// nuxt.config.js
module.exports = &#123;
  generate: &#123;
    routes: [
      &#39;/users/1&#39;,
      &#39;/users/2&#39;,
      &#39;/users/3&#39;
    ]
  &#125;
&#125;
</code></pre>
<p>运行打包，即可看见打包出来的页面。 但是如果路由动态参数的值是动态的而不是固定的，应该怎么做呢？</p>
<ul>
<li>使用一个返回 Promise 对象类型 的 函数；</li>
<li>使用一个回调是 callback(err, params) 的 函数。</li>
</ul>
<pre><code class="javascript">// nuxt.config.js
import axios from &#39;axios&#39;

export default &#123;
  generate: &#123;
    routes: function () &#123;
      return axios.get(&#39;https://my-api/users&#39;)
      .then((res) =&gt; &#123;
        return res.data.map((user) =&gt; &#123;
          return &#123;
            route: &#39;/users/&#39; + user.id,
            payload: user
          &#125;
        &#125;)
      &#125;)
    &#125;
  &#125;
&#125;
</code></pre>
<p>现在我们可以从<code>/users/_id.vue</code>访问的<code>payload</code>，如下所示：</p>
<pre><code class="javascript">async asyncData (&#123; params, error, payload &#125;) &#123;
  if (payload) return &#123; user: payload &#125;
  else return &#123; user: await backend.fetchUser(params.id) &#125;
&#125;
</code></pre>
<p>如果你的动态路由的参数很多，例如商品详情，可能高达几千几万个。需要一个接口返回所有id，然后打包时遍历id，打包到本地，如果某个商品修改了或者下架了，又要重新打包，数量多的情况下打包也是非常慢的，非常不现实。 优势：</p>
<ul>
<li>纯静态文件，访问速度超快；</li>
<li>对比SSR，不涉及到服务器负载方面问题；</li>
<li>静态网页不宜遭到黑客攻击，安全性更高。</li>
</ul>
<p>不足：</p>
<ul>
<li>如果动态路由参数多的话不适用。</li>
</ul>
<h4 id="3-预渲染prerender-spa-plugin"><a href="#3-预渲染prerender-spa-plugin" class="headerlink" title="3.预渲染prerender-spa-plugin"></a>3.预渲染prerender-spa-plugin</h4><p>如果你只是用来改善少数营销页面（例如 /, /about, /contact 等）的 SEO，那么你可能需要预渲染。无需使用 web 服务器实时动态编译 HTML，而是使用预渲染方式，在构建时 (build time) 简单地生成针对特定路由的静态 HTML 文件。优点是设置预渲染更简单，并可以将你的前端作为一个完全静态的站点。</p>
<pre><code class="javascript">$ cnpm install prerender-spa-plugin --save
</code></pre>
<p>vue cli 3 <code>vue.config.js</code>配置：</p>
<pre><code class="javascript">const PrerenderSPAPlugin = require(&#39;prerender-spa-plugin&#39;);
const Renderer = PrerenderSPAPlugin.PuppeteerRenderer;
const path = require(&#39;path&#39;);
module.exports = &#123;
    configureWebpack: config =&gt; &#123;
        if (process.env.NODE_ENV !== &#39;production&#39;) return;
        return &#123;
            plugins: [
                new PrerenderSPAPlugin(&#123;
                    // 生成文件的路径，也可以与webpakc打包的一致。
                    // 下面这句话非常重要！！！
                    // 这个目录只能有一级，如果目录层次大于一级，在生成的时候不会有任何错误提示，在预渲染的时候只会卡着不动。
                    staticDir: path.join(__dirname,&#39;dist&#39;),
                    // 对应自己的路由文件，比如a有参数，就需要写成 /a/param1。
                    routes: [&#39;/&#39;, &#39;/product&#39;,&#39;/about&#39;],
                    // 这个很重要，如果没有配置这段，也不会进行预编译
                    renderer: new Renderer(&#123;
                        inject: &#123;
                            foo: &#39;bar&#39;
                        &#125;,
                        headless: false,
                        // 在 main.js 中 document.dispatchEvent(new Event(&#39;render-event&#39;))，两者的事件名称要对应上。
                        renderAfterDocumentEvent: &#39;render-event&#39;
                    &#125;)
                &#125;),
            ],
        &#125;;
    &#125;
&#125;
</code></pre>
<p>在main.js中添加：</p>
<pre><code class="javascript">new Vue(&#123;
  router,
  render: h =&gt; h(App),
  mounted () &#123;
    document.dispatchEvent(new Event(&#39;render-event&#39;))
  &#125;
&#125;).$mount(&#39;#app&#39;)
</code></pre>
<p>注意：router中必须设置 <code>mode: “history”</code>。</p>
<p>打包出来可以看见文件，打包出文件夹<code>/index.html</code>，例如：<code>about</code> =&gt; <code>about/index.html</code>，里面有html内容。</p>
<p>优势：</p>
<ul>
<li>改动小，引入个插件就完事；</li>
</ul>
<p>不足：</p>
<ul>
<li>无法使用动态路由；</li>
<li>只适用少量页面的项目，页面多达几百个的情况下，打包会很很很慢；</li>
</ul>
<h4 id="4-使用Phantomjs针对爬虫做处理"><a href="#4-使用Phantomjs针对爬虫做处理" class="headerlink" title="4.使用Phantomjs针对爬虫做处理"></a>4.使用Phantomjs针对爬虫做处理</h4><p>Phantomjs是一个基于webkit内核的无头浏览器，即没有UI界面，即它就是一个浏览器，只是其内的点击、翻页等人为相关操作需要程序设计实现。 虽然“PhantomJS宣布终止开发”，但是已经满足对Vue的SEO处理。 这种解决方案其实是一种旁路机制，原理就是通过Nginx配置，判断访问的来源UA是否是爬虫访问，如果是则将搜索引擎的爬虫请求转发到一个node server，再通过PhantomJS来解析完整的HTML，返回给爬虫。</p>
<img src="https://cdn.jsdelivr.net/gh/tangyuxian/blog_image@latest/post/phantomjs.png" style="zoom: 50%;" />

<p>具体代码戳这里：<a target="_blank" rel="noopener" href="https://github.com/lengziyu/vue-seo-phantomjs">vue-seo-phantomjs</a>。 要安装全局<code>phantomjs</code>，局部<code>express</code>，测试：</p>
<pre><code class="javascript">$ phantomjs spider.js &#39;https://www.baidu.com&#39;
</code></pre>
<p>如果见到在命令行里出现了一推html，那恭喜你，你已经征服PhantomJS啦。 启动之后或者用postman在请求头增加<code>User-Agent</code>值为<code>Baiduspider</code>，效果一样的。</p>
<p>部署上线 线上要安装<code>node</code>、<code>pm2</code>、<code>phantomjs</code>，nginx相关配置：</p>
<pre><code class="javascript">upstream spider_server &#123;
  server localhost:3000;
&#125;

server &#123;
    listen       80;
    server_name  example.com;
    
    location / &#123;
      proxy_set_header  Host            $host:$proxy_port;
      proxy_set_header  X-Real-IP       $remote_addr;
      proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;

      if ($http_user_agent ~* &quot;Baiduspider|twitterbot|facebookexternalhit|rogerbot|linkedinbot|embedly|quora link preview|showyoubot|outbrain|pinterest|slackbot|vkShare|W3C_Validator|bingbot|Sosospider|Sogou Pic Spider|Googlebot|360Spider&quot;) &#123;
        proxy_pass  http://spider_server;
      &#125;
    &#125;
&#125;
</code></pre>
<p>优势：</p>
<ul>
<li>完全不用改动项目代码，按原本的SPA开发即可，对比开发SSR成本小不要太多；</li>
<li>对已用SPA开发完成的项目，这是不二之选。</li>
</ul>
<p>不足：</p>
<ul>
<li>部署需要node服务器支持；</li>
<li>爬虫访问比网页访问要慢一些，因为定时要定时资源加载完成才返回给爬虫；</li>
<li>如果被恶意模拟百度爬虫大量循环爬取，会造成服务器负载方面问题，解决方法是判断访问的IP，是否是百度官方爬虫的IP。</li>
</ul>
<hr>
<p>引用来源点击<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1674392">这里</a>,原作者的内容比较详细,里面多补充一些其它必要知识</p>

  </article>

  
    
  <div class="nexmoe-post-copyright">
    <strong>本文作者：</strong>tangyuxian<br>
    <strong>本文链接：</strong><a href="https://tangyuxian.com/2021/02/20/%E5%89%8D%E7%AB%AF/vue/vue-%E5%9F%BA%E4%BA%8Evue%E7%9A%84SEO%E6%96%B9%E6%A1%88/" title="https:&#x2F;&#x2F;tangyuxian.com&#x2F;2021&#x2F;02&#x2F;20&#x2F;%E5%89%8D%E7%AB%AF&#x2F;vue&#x2F;vue-%E5%9F%BA%E4%BA%8Evue%E7%9A%84SEO%E6%96%B9%E6%A1%88&#x2F;" target="_blank" rel="noopener">https:&#x2F;&#x2F;tangyuxian.com&#x2F;2021&#x2F;02&#x2F;20&#x2F;%E5%89%8D%E7%AB%AF&#x2F;vue&#x2F;vue-%E5%9F%BA%E4%BA%8Evue%E7%9A%84SEO%E6%96%B9%E6%A1%88&#x2F;</a><br>
    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
        <a class="nexmoefont icon-appstore-fill -link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a>
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/vue/" rel="tag">vue</a>
    
</div>

  <div class="nexmoe-post-footer">
    <section class="nexmoe-comment">
    <div class="valine"></div>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.9/dist/Valine.min.js'></script>
<script>
    // 使用方法 https://valine.js.org/quickstart.html
    new Valine({
        el: '.valine',
        appId: 'r5zxC0st0DDjPA9auXzMV7HY-gzGzoHsz',
        appKey: '3bqCsovpyfTPHUzTHovd3V3V'
    })
</script>
</section>
  </div>
</div>
        <div class="nexmoe-post-right">
          
        </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script>
	hljs.initHighlightingOnLoad();
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>
 <script src="/js/app.js?v=1616248039169"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>

  





<!-- hexo injector body_end start -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>

<script src="/js/search.js"></script>
<!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/xiaomai.model.json"},"display":{"position":"left","width":200,"height":500},"mobile":{"show":true},"react":{"opacity":0.7},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>
<script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/250cb4aa.js","daovoice")</script>
<script>
  daovoice('init', {
    app_id: "250cb4aa"
  });
  daovoice('update');
</script>
